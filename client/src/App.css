/* ====== Reset & base ====== */
*{ box-sizing: border-box; }
html{ scroll-behavior: smooth; }
html:focus-within{ scroll-behavior: smooth; }

:root{
  /* خطوط وأحجام عامة */
  --font-family: 'Cairo', system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  --font-family-alt: 'Roboto', system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  --font-family-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --font-size: 16px;
  --font-size-small: 14px;
  --font-size-large: 18px;
  --font-weight-normal: 400;
  --font-weight-bold: 700;
  --font-weight-bolder: 900;
  --line-height: 1.6;

  /* قيم المشروع القديمة (للتوافق) */
  --main-color: #4CAF50;
  --main-color-hover: #66BB6A;
  --main-color-active: #388E3C;
  --main-color-alt: #2E7D32;
  --main-color-fundo: #EFEFEF;
  --color-border:  #dfe2e2;
  --color-primary: #1E88E5;
  --color-secondary: #FF7043;

  /* ألوان الشعار - استخدام المتغيرات المركزية */
  --brand-green: var(--primary);
  --brand-green-600: var(--primary-dark);
  --brand-orange: var(--accent);
  --brand-orange-600: var(--accent-dark);

  /* هوية موحّدة */
  --ui-primary: var(--primary);
  --ui-primary-600: var(--primary-dark);
  --ui-accent: var(--accent);
  --ui-accent-600: var(--accent-dark);

  --bg-page: var(--main-color-fundo);
  --text-color: #1f2937;
  --text-muted: #4b5563;

  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 22px;

  --shadow-1: 0 4px 16px rgba(0,0,0,.08);
  --shadow-2: 0 12px 40px rgba(0,0,0,.14);

  --main-transition: 0.3s;
  --text-main-dark: #1a1a1a;
  --text-muted: #6b6b6b;

  --border-soft: rgba(0,0,0,0.06);
  --card-bg: #ffffff;
  --section-bg: var(--main-color-fundo); /* أنت أصلاً تستخدمها كخلفية للصناديق الكبيرة */

  /* حالات */
  --urgent-bg: #d32f2f;
  --urgent-text: #fff;
  --pill-bg-soft: rgba(255,255,255,0.6); /* وسمة فصيلة الدم بخلفية شفافة فوق خلفية فاتحة */

  /* radius / shadow موحدين للمشروع */
  --radius-lg: 16px;
  --radius-md: 10px;
  --shadow-card: 0 18px 30px rgba(0,0,0,0.05);

  /* أزرار CTA */
  --btn-solid-bg: var(--main-color);
  --btn-solid-bg-hover: var(--main-color-alt);
  --btn-solid-text: #fff;

  --btn-outline-border: var(--main-color);
  --btn-outline-text: var(--main-color);
  --btn-outline-bg-hover: var(--main-color);
  --btn-outline-text-hover: #fff;
}

body{
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: var(--line-height);
  color: var(--text-color);
  margin: 0;
  min-height: 100vh;
  background: var(--bg-page);
  display: flex;
  flex-direction: column;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* صفحات عامة */
.page-app{ 
  display: flex; 
  flex-direction: column; 
  min-height: 100vh; 
  position: relative;
}

.page-wrapper{ 
  width: 100%; 
 
  flex: 1;
  min-height: calc(100vh - 120px); /* تأكد من أن المحتوى يأخذ المساحة الكافية */
  position: relative;
  z-index: 1; /* تأكد من أن المحتوى فوق الفوتر */
  display: flex;
  flex-direction: column;
}

/* تأكد من أن جميع الصفحات تأخذ المساحة الكاملة */
.page-wrapper > * {
  flex-grow: 1;
  width: 100%;
}

/* قواعد خاصة للصفحات المختلفة */
.landing-page,
.about-page,
.login-page,
.register-page,
.user-page {
  min-height: 100%;
  width: 100%;
  position: relative;
}

/* منع تداخل الفوتر مع المحتوى */
body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  
}

/* ضمان البدء من أعلى الصفحة دائماً */
html {
  scroll-behavior: smooth;
}

.page-wrapper {
  scroll-margin-top: 0;
  padding-top: 0;
}

/* تأكد من عرض المحتوى دائماً */
.page-app .page-wrapper {
  opacity: 1 !important;
  visibility: visible !important;
  display: flex !important;
}

/* إخفاء الفوتر عند عدم الحاجة إليه */
.modern-footer.hide {
  display: none;
}

/* التأكد من أن الصفحات تظهر فوق الفوتر */
.page-wrapper > div,
.page-wrapper > section,
.page-wrapper > main {
  position: relative;
  z-index: 2;
}

/* عناصر عامة */
img{ max-width:100%; height:auto; display:block; }
a{ color: var(--ui-primary); text-decoration: none; }
a:hover, a:focus-visible{ text-decoration: underline; }
button, .btn{ cursor:pointer; }

/* وصولية */
:focus-visible{ outline: 3px solid var(--ui-accent); outline-offset: 2px; }

/* تخصيص أزرار Bootstrap بسرعة */
.btn-primary,
.btn.go-landing{
  background: linear-gradient(135deg, #FF7A45 0%, #FF9A6C 50%, #E05A2E 100%) !important;
  border: 0 !important;
  box-shadow: 0 4px 15px rgba(255, 122, 69, 0.3) !important;
}
.btn-primary:hover,
.btn.go-landing:hover,
.btn.go-landing:focus-visible{
  background: linear-gradient(135deg, #FF8C42 0%, #FF9A6C 50%, #FF6B35 100%) !important;
  transform: translateY(-2px) scale(1.05) !important;
  box-shadow: 0 8px 25px rgba(255, 122, 69, 0.5) !important;
}

/* RTL helpers */
[dir="rtl"] .text-start{ text-align: right !important; }
[dir="rtl"] .text-end{ text-align: left !important; }

@media (max-width: 360px){
  body{ font-size: 15px; }
}

/* ===== ربط الهيدر بالمحتوى ===== */
.page-app{
  /* يحجز فراغًا تحت الهيدر الثابت (يتغير تلقائيًا حسب نقطة الانكسار) */
  padding-top: var(--appbar-h);
  /* لمنع اختباء الأقسام المرتبطة بالهاش خلف الهيدر */
  scroll-padding-top: var(--appbar-h);
}

/* إن كنت تستخدم سلوك إخفاء/إظهار في App.js */
.header-container{ transition: transform .24s ease; }
.header-container.hide{ transform: translateY(calc(-1 * var(--appbar-h))); }

/* دعم حواف أجهزة iOS ذات النتوء */
@supports (padding: max(0px)){
  .header-container{ padding-top: env(safe-area-inset-top); }
}
